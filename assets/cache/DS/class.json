{"id":"class","deps":[],"as":{},"info":"","extern":[{"id":"makereadonly","info":"\n\nt, k => ()\n\n使得 key 变为只读\n\n"},{"id":"addsetter","info":"\n\nt, k, fn : @setter => ()\n\n使得 key 变为只读\n\n"},{"id":"removesetter","info":""},{"id":"Class","info":"\n\nbase: class | function, \\_ctor : function, props => class\n\n- base: base class\n- \\_ctor: constructor function\n- props: 定义 #setter\n\n  ```js\n  {key1: setter1, ...}\n  ```\n\nclass:\n\n- (self, ...): 构造函数\n- .is_a(self, klass): 是否是某个 klass\n- .\\_ctor: constructor function\n- .\\_base: base class\n\n注意:\n\n1. (func, nil, ?) == (nil, func, ?), 即说明 base 就是一个 constructor\n2. (func1, func2, ?) == (nil, func2, ?), \\_ctor 的优先级高 base\n\n进一步可见[Class](https://atjiu.github.io/dstmod-tutorial/#/class)\n\n"},{"id":"ClassRegistry","info":"\n\nClassRegistry = []\n\n通过 @Class 生成的, 都会在这个数组里面\n\n"}],"local":[{"id":"__index","info":"\n\nt, k => ()\n\n类似于 js 的 getter\n\n"},{"id":"__newindex","info":"\n\nt, k, v => ()\n\n类似于 js 的 setter, 与 [Writing doesn’t use prototype](https://javascript.info/prototype-inheritance#writing-doesn-t-use-prototype)设计一致\n\n"},{"id":"onreadonly","info":"\n\n实际上就是一个 @setter\n\n"},{"id":"setter","info":"\n\nt, v, old => ()\n\n用于数据代理\n\n"}]}